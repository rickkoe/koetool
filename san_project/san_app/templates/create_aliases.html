<!DOCTYPE html>
{% extends "base_generic.html" %}
{% load static %}
{% block extra_head %}
<title>Alias Commands</title>

{% endblock %}
{% block content %}
<div class="container">
<h1>Alias Commands</h1>
<ul class="nav nav-tabs">
  {% for fabric in alias_command_dict %}
  <li {% if forloop.first %} class="active" {% endif %}><a data-toggle="tab" href="#{{ fabric|cut:' ' }}">{{ fabric }}</a></li>
  {% endfor %}
</ul>
  
  <div class="tab-content">
  {% for key, value in alias_command_dict.items %}
  <div id="{{ key|cut:' ' }}" class="tab-pane fade{% if forloop.first %} in active{% endif %}">
  <div class="code-block">
  <pre><code>
  ### {{ key }} Alias Commands
  {% for command in value %}
  {{ command }}{% endfor %} 
  </pre></code> 
  <button class="copy-button" onclick="copyCode()">Copy Commands</button>
</div>
  </div>
  {% endfor %}
  </div>
  </div>
{% endblock %}

{% block extra_js %}
<script>
  function copyCode() {
      const codeBlock = document.querySelector('.code-block');
      const code = codeBlock.querySelector('code').textContent;

      navigator.clipboard.writeText(code)
          .then(() => {
              tempAlert('Commands copied to clipboard!',1000);
          })
          .catch((error) => {
              console.error('Copy failed:', error);
          });
  }
  </script>

{% endblock %}
