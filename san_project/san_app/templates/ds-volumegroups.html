<!DOCTYPE html>
{% extends "partials/base.html" %}
{% load static %}

{% block content %}
  <div class="container-fluid">
    <div class="row">
      <div class="col">
        <button id="submit-data" class="btn btn-secondary btn-sm">Save Changes</button>
        <button onclick="location.href='{% url 'create_zones' %}'" type="button" class="btn btn-secondary btn-sm">
          Create Zone Commands
        </button>
      </div>
      <div class="col">
        <label for="maxUses">Maximum number of zones per alias:</label>
        <input type="number" id="maxUses" name="maxUses" value="{{ maxUses }}" min="1">
      </div>
    </div>

    <div class="row" id="hotcontainer" onscroll="scrollFunction()">
      <div id="zoneTable"></div>
    </div>
  </div>
{% endblock %}

{% block extra_js %}
  <script>
    // Get the button and the container div for the table:
    let mybutton = document.getElementById("topBtn");
    let hotcontainer = document.getElementById("hotcontainer");

    // When the user scrolls down 20px from the top of the document, show the button
    function scrollFunction() {
      console.log("scrolling");
      if (hotcontainer.scrollTop > 20) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    }

  </script>
  <script src="{% static 'san_app/js/zones.js' %}" type="module"></script>

  <script>
    var data = {{ zones|safe }};
  </script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% endblock %}
